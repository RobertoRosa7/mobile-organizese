<ion-menu
  side="start"
  type="overlay"
  menuId="main"
  contentId="main"
  class="menu"
>
  <div class="menu-item-close">
    <ion-button
      (click)="closeMenu()"
      fill="clear"
      size="small"
      color="light"
      shape="round"
    >
      <ion-icon name="close"></ion-icon>
    </ion-button>
  </div>
  <ion-content class="menu-content">
    <div class="user">
      <ng-container *ngIf="states$ | async as states">
        <div class="profile-icon">
          <ion-icon slot="only-icon" name="person"></ion-icon>
        </div>
        <p>{{ states.user.name }}</p>
        <p>{{ states.user.email }}</p>
        <p>{{ states.user.tel }}</p>
      </ng-container>
    </div>

    <ion-list class="menu-list">
      <ion-item class="menu-item">
        <ion-icon color="light" name="home"></ion-icon>
        <ion-button
          expand="block"
          routerDirection="back"
          routerLink="/home"
          fill="clear"
          color="light"
          size="medium"
        >
          home
        </ion-button>
      </ion-item>

      <ion-item class="menu-item">
        <ion-icon color="light" name="grid-outline"></ion-icon>
        <ion-button
          expand="block"
          fill="clear"
          color="light"
          size="medium"
          routerDirection="back"
          routerLink="/dashboard/main"
        >
          DASHBOARD
        </ion-button>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-menu>
<ion-router-outlet id="main"></ion-router-outlet>

<ion-header class="header">
  <ion-toolbar class="ion-toolbar">
    <ion-buttons>
      <div class="container-buttons">
        <ion-button (click)="sync($event)" shape="round" slot="end">
          <ion-icon shape="round" name="sync-outline"></ion-icon>
        </ion-button>
        <ng-container *ngIf="states$ | async as states">
          <ng-container *ngIf="states.notification.length > 0; else noNotify">
            <ion-button (click)="notify($event)" shape="round" slot="end">
              <ion-icon name="notifications"></ion-icon>
              <ion-badge color="danger"
                >{{states.notification.length}}</ion-badge
              >
            </ion-button>
          </ng-container>
          <ng-template #noNotify>
            <ion-button (click)="notify($event)" shape="round" slot="end">
              <ion-icon name="notifications-outline"></ion-icon>
            </ion-button>
          </ng-template>
        </ng-container>
        <ion-button (click)="add($event)" shape="round" slot="end">
          <ion-icon name="add-outline"></ion-icon>
        </ion-button>
        <ion-button (click)="profile($event)" shape="round" slot="end">
          <ion-icon name="person-outline"></ion-icon>
        </ion-button>
      </div>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-router-outlet></ion-router-outlet>
  <ion-tabs>
    <ion-tab-bar slot="bottom">
      <ion-tab-button tab="main">
        <ion-icon name="grid-outline"></ion-icon>
        <ion-label>Dashboard</ion-label>
        <ion-badge>6</ion-badge>
      </ion-tab-button>

      <ion-tab-button tab="extracts">
        <ion-icon name="list-outline"></ion-icon>
        <ion-label>Extratos</ion-label>
      </ion-tab-button>

      <ion-tab-button tab="settings">
        <ion-icon name="settings-outline"></ion-icon>
        <ion-label>Configurações</ion-label>
      </ion-tab-button>

      <ion-tab-button tab="about">
        <ion-icon name="information-circle-outline"></ion-icon>
        <ion-label>About</ion-label>
      </ion-tab-button>
    </ion-tab-bar>
  </ion-tabs>
</ion-content>
